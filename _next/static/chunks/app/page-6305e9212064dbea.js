(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{1896:(e,t,s)=>{Promise.resolve().then(s.bind(s,7140))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7140:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5155),l=s(2115),i=s(6766);let n=e=>{let{activeTab:t,onTabChange:s}=e,n=(0,l.useRef)(null),r=(0,l.useRef)(null),o=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(!o.current)return;let e="map"===t?n.current:r.current;if(!e)return;let s=e.offsetWidth;o.current.style.width="".concat(s,"px"),o.current.style.transform="translateX(".concat("map"===t?0:s,"px)")},[t]);let c={fontFamily:"DM Sans",fontSize:"14px",fontWeight:700,lineHeight:"1",letterSpacing:"-2%"};return(0,a.jsxs)("div",{className:"w-[248px] h-[34px] max-w-md p-1 gray-1 bg-blue-3 rounded-[28px] flex relative",children:[(0,a.jsx)("div",{ref:o,className:"absolute top-1 left-1 h-[calc(100%-8px)] warm-white bg-gray-1 rounded-[24px] z-0 transition-transform duration-300 ease-in-out"}),(0,a.jsxs)("button",{ref:r,className:"flex-1 py-2.5 px-4 text-center flex items-center justify-center gap-2 rounded-[24px] z-10 relative ".concat("map"===t?"text-white":"text-gray1"),onClick:()=>s("map"),children:[(0,a.jsx)(i.default,{src:"/icons/Map.svg",alt:"Map view",width:15,height:14,className:"map"===t?"brightness-0 invert":""}),(0,a.jsx)("span",{style:c,children:"MAP"})]}),(0,a.jsxs)("button",{ref:n,className:"flex-1 py-2.5 px-4 text-center flex items-center justify-center gap-2 rounded-[24px] z-10 relative ".concat("list"===t?"text-warm-white":"text-gray1"),onClick:()=>s("list"),children:[(0,a.jsx)(i.default,{src:"/icons/List.svg",alt:"List view",width:12,height:9,className:"list"===t?"brightness-0 invert":""}),(0,a.jsx)("span",{style:c,children:"LIST"})]})]})};var r=s(5695);let o=e=>{let{regions:t}=e,s=(0,r.useRouter)(),l=e=>{s.push(e)},i={fontFamily:"DM Sans",fontSize:"16px",fontWeight:600,letterSpacing:"-1%",lineHeight:"1"},n={fontFamily:"DM Sans",fontSize:"16px",fontWeight:400,letterSpacing:"-2%",lineHeight:"1"};return(0,a.jsx)("div",{className:"w-full max-w-md flex flex-col gap-[16px] pb-[16px]",children:t.map((e,t)=>{let s=e.totalObjects>0?e.objectsFound/e.totalObjects*100:0,r=e.objectsFound===e.totalObjects&&e.totalObjects>0;return(0,a.jsxs)("div",{className:"rounded-xl flex items-center justify-between cursor-pointer relative h-[100px] overflow-hidden bg-blue-3 hover:bg-[#bdcaf0] transition-colors",onClick:()=>l(e.path),children:[s>0&&(0,a.jsx)("div",{className:"absolute top-0 left-0 h-full",style:{width:r?"100%":"".concat(s,"%")},children:r?(0,a.jsx)("div",{className:"h-full w-full bg-blue-2"}):(0,a.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{position:"absolute",top:0,left:0},children:(0,a.jsx)("path",{className:"fill-blue-2",d:"M0,0 L95,0 Q97,20 96,50 Q95,80 95,100 L0,100 Z",children:(0,a.jsx)("animate",{attributeName:"d",values:"   M0,0 L95,0 Q97,20 96,50 Q95,80 95,100 L0,100 Z;   M0,0 L95,0 Q100,30 95,50 Q90,70 95,100 L0,100 Z;   M0,0 L95,0 Q96,25 95,50 Q94,75 95,100 L0,100 Z;   M0,0 L95,0 Q92,18 96,50 Q98,82 95,100 L0,100 Z;   M0,0 L95,0 Q99,22 95,50 Q91,78 95,100 L0,100 Z;   M0,0 L95,0 Q95,20 96,50 Q97,80 95,100 L0,100 Z;   M0,0 L95,0 Q97,20 96,50 Q95,80 95,100 L0,100 Z",dur:"6s",repeatCount:"indefinite",begin:t%3+"s"})})})}),(0,a.jsxs)("div",{className:"flex flex-col p-6 z-10",children:[(0,a.jsx)("div",{style:i,className:"text-black mb-1",children:e.displayName}),(0,a.jsx)("div",{style:n,className:"text-gray1",children:r?"All Objects Found!":"".concat(e.objectsFound,"/").concat(e.totalObjects," Objects")})]}),!r&&(0,a.jsx)("div",{className:"absolute right-0 h-full opacity-70 z-0",children:(0,a.jsx)("img",{src:"/icons/regions/".concat(e.name.toLowerCase().replace(/\s+/g,"-"),".png"),alt:"".concat(e.displayName," icon"),className:"h-full object-cover object-left",style:{maxWidth:"none"},onError:e=>{e.target.style.display="none"}})}),r&&(0,a.jsx)("div",{className:"absolute top-1/2 transform -translate-y-1/2 z-20",style:{right:"-15px"},children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("svg",{width:"58",height:"58",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:"white"}),(0,a.jsx)("circle",{cx:"20",cy:"20",r:"14",fill:"#8aaeef"}),(0,a.jsx)("circle",{cx:"20",cy:"20",r:"11.5",fill:"white"}),(0,a.jsx)("path",{d:"M14 20L18 24L26 16",stroke:"#8aaeef",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]},t)})})};var c=s(6874),d=s.n(c);let x=e=>{let{x:t,y:s,width:l,height:i,backgroundColor:n,borderRadius:r,rotate:o,skew:c}=e,d=l/2,x=[];c&&x.push("skew(".concat(c.x,"deg, ").concat(c.y,"deg)")),o&&x.push("rotate(".concat(o,"deg)"));let h=x.join(" ");return(0,a.jsx)("div",{style:{position:"absolute",left:t,top:s,width:l,height:i,backgroundColor:n,borderRadius:r||"0",transform:h,transformOrigin:"".concat(d,"px ").concat(i/2,"px"),pointerEvents:"none"}})},h=e=>{let{section:t,position:s}=e,l="assyria"===t.name,i=t.objectsFound===t.totalObjects&&t.totalObjects>0;return(0,a.jsx)("div",{className:"absolute z-10",style:{left:s.x,top:s.y,transform:l?"translate(-50%, -100%)":"translateX(-50%)"},children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 w-0 h-0",style:l?{bottom:"-8px",borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid #3E65C8"}:{top:"-8px",borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:"10px solid #3E65C8"}}),(0,a.jsxs)("div",{className:"bg-[#3E65C8] text-center rounded-xl py-1.5 px-3",style:{minWidth:"120px"},children:[(0,a.jsx)("h3",{className:"text-white font-medium text-lg",children:t.displayName}),(0,a.jsx)("p",{className:"text-white text-s mt-0",children:i?"All Objects Found!":"".concat(t.objectsFound,"/").concat(t.totalObjects," Objects")})]})]})})},u=e=>{let{regions:t}=e,[s,i]=(0,l.useState)(null),n=(0,r.useRouter)(),o={"into-the-blue":{x:262,y:237,width:100,height:40,dotX:310,dotY:250,labelX:355,labelY:268},etruscan:{x:336,y:179,width:46,height:50,dotX:357,dotY:195,labelX:245,labelY:170},greece:{x:365,y:198,width:46,height:50,dotX:385,dotY:215,labelX:425,labelY:230},rome:{x:375,y:165,width:100,height:25,dotX:420,dotY:170,labelX:320,labelY:125},"eastern-mediterranean":{x:410,y:140,width:100,height:25,dotX:455,dotY:145,labelX:515,labelY:175},asia:{x:380,y:65,width:90,height:40,dotX:425,dotY:80,labelX:345,labelY:50},egypt:{x:485,y:90,width:100,height:35,dotX:530,dotY:100,labelX:570,labelY:60},"middle-east":{x:410,y:300,width:190,height:40,dotX:495,dotY:310,labelX:535,labelY:275},"north-america":{x:350,y:345,width:100,height:30,dotX:400,dotY:355,labelX:470,labelY:385},"mexico-central-america":{x:310,y:375,width:100,height:30,dotX:360,dotY:385,labelX:410,labelY:410},africa:{x:270,y:405,width:100,height:30,dotX:320,dotY:415,labelX:400,labelY:460},assyria:{x:340,y:540,width:100,height:70,dotX:390,dotY:565,labelX:450,labelY:595}},c=t.map(e=>e.name).filter(e=>!o[e]);c.length>0&&console.warn("⚠️ Missing sectionPositions for:",c);let d=t.map(e=>{let t=o[e.name],s="egypt"===e.name?"Egypt":e.displayName;return{...e,displayName:s,x:t.x-215,y:t.y,width:t.width,height:t.height,dotX:t.dotX-215,dotY:t.dotY,labelX:t.labelX-215,labelY:t.labelY}}),u=(e,t)=>{s===e?n.push(t):i(e)},m=e=>{let t=e.x+e.width/2;return"assyria"===e.name?{x:t,y:e.y-20}:{x:t,y:e.y+e.height+20}};return(0,a.jsx)("div",{className:"relative w-full",style:{height:"calc(100vh - 280px)"},children:(0,a.jsx)("div",{style:{transform:"scale(0.81)",transformOrigin:"top left"},children:(0,a.jsxs)("div",{className:"relative",style:{height:800,width:"100%",minWidth:"100%"},onClick:e=>{e.target===e.currentTarget&&i(null)},children:[d.map(e=>{let t=s===e.name,l=e.width/2,i=e.height/2;return(0,a.jsx)("div",{className:"absolute transition-all duration-300 ease-out ".concat(t?"bg-blue1 shadow-m":"bg-blue5 hover:bg-blue2 border-[1.5px] border-[#bdcaf0] border-dashed"),style:{left:e.x,top:e.y+18,width:e.width,height:1.1*e.height,backgroundColor:"#e9e6de",transform:"skew(-45deg) rotate(22deg) ".concat(t?"translateY(-5px)":""),transformOrigin:"".concat(l,"px ").concat(i,"px"),borderRadius:"10%",zIndex:0,opacity:t?.7:.5}},"".concat(e.name,"-shadow"))}),(0,a.jsx)(x,{x:172,y:323,width:100,height:22,backgroundColor:"#BCCAF0",borderRadius:"10%",rotate:22,skew:{x:-45,y:0}}),(0,a.jsx)(x,{x:210,y:118,width:125,height:18,backgroundColor:"#BCCAF0",borderRadius:"10%",rotate:22,skew:{x:-45,y:0}}),(0,a.jsx)(x,{x:201,y:503,width:100,height:40,backgroundColor:"#BCCAF0",borderRadius:"10%",rotate:22,skew:{x:-45,y:0}}),d.map(e=>{let t=s===e.name,l=e.width/2,i=e.height/2;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"absolute border-[1.5px] transition-all duration-300 ease-out ".concat(t?"bg-blue1 shadow-m":"bg-blue5 hover:bg-blue2"),style:{left:e.x,top:e.y,width:e.width,height:e.height,transform:"skew(-45deg) rotate(22deg) ".concat(t?"translateY(-5px)":""),cursor:"pointer",transformOrigin:"".concat(l,"px ").concat(i,"px"),borderRadius:"10%",zIndex:t?50:1,borderColor:"#bdcaf0"},onClick:()=>u(e.name,e.path)}),!t&&(0,a.jsx)("div",{className:"absolute text-blue1 font-medium transition-opacity duration-300 z-2",style:{left:e.labelX,top:e.labelY,whiteSpace:"eastern-mediterranean"===e.name?"normal":"nowrap",maxWidth:"120px"},children:e.displayName}),!t&&(0,a.jsx)("div",{className:"absolute bg-blue4 rounded-full w-2 h-2 transition-opacity duration-300",style:{left:e.dotX,top:e.dotY,zIndex:2}}),!t&&(0,a.jsx)("svg",{className:"absolute pointer-events-none transition-opacity duration-300",style:{left:0,top:0,width:"100%",height:"100%",zIndex:2},children:(()=>{let{x:t,y:s}=function(e){let t=8*e.displayName.length;if("special-exhibition-egypt"===e.name||"middle-east"===e.name)return{x:e.labelX-4,y:e.labelY+4+12};let s=e.labelX,a=e.labelY+9;return{x:e.labelX>e.dotX?e.labelX-4:e.labelX+t+4+8,y:a}}(e);return(0,a.jsx)("line",{x1:e.dotX+4,y1:e.dotY+4,x2:t,y2:s,stroke:"#355DC3",strokeWidth:"1"})})()}),t&&(0,a.jsx)(h,{section:e,position:m(e)})]},e.name)})]})})})},m=e=>{let{objectsFound:t,totalObjects:s}=e,l=t>=3,i=t>=12,n=t>=20;return(0,a.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,a.jsxs)("div",{className:"w-full relative px-4 pt-0",children:[(0,a.jsxs)("div",{className:"relative flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("img",{src:"/icons/".concat(l?"yellow":"grey","-star.svg"),alt:"1 star",className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("img",{src:"/icons/".concat(n?"yellow":"grey","-star.svg"),alt:"3 stars",className:"w-6 h-6"}),(0,a.jsx)("img",{src:"/icons/".concat(n?"yellow":"grey","-star.svg"),alt:"",className:"w-6 h-6"}),(0,a.jsx)("img",{src:"/icons/".concat(n?"yellow":"grey","-star.svg"),alt:"",className:"w-6 h-6"})]})]}),(0,a.jsxs)("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-0 flex items-center",children:[(0,a.jsx)("img",{src:"/icons/".concat(i?"yellow":"grey","-star.svg"),alt:"2 stars",className:"w-6 h-6"}),(0,a.jsx)("img",{src:"/icons/".concat(i?"yellow":"grey","-star.svg"),alt:"",className:"w-6 h-6"})]})]}),(0,a.jsxs)("div",{className:"text-center text-gray2 mt-4",style:{fontFamily:"DM Sans",fontSize:"16px",fontWeight:600,lineHeight:"1"},children:[t,"/",s," objects found"]})]})},b=e=>{let{objectsFound:t,totalObjects:s}=e;return(0,a.jsx)("div",{className:"w-full bg-gray-200 h-4 fixed top-0 left-0 z-50",children:(0,a.jsx)("div",{className:"h-4 transition-width duration-300 ease-in-out rounded-r-md",style:{width:"".concat(t/s*100,"%"),backgroundColor:"#4066E3"}})})},p=e=>{let{objectsFound:t=0}=e,[s,i]=(0,l.useState)(!1),n=t<3;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:()=>{n||i(!0)},className:"cursor-".concat(n?"default":"pointer"," ").concat(n?"opacity-50":""),children:(0,a.jsxs)("div",{className:"flex items-center text-green border-2 border-green w-fit h-[44px] gap-[6px] px-[20px] rounded-full",children:[(0,a.jsx)("p",{className:"font-medium text-base",children:"Finish Hunt"}),(0,a.jsx)("img",{src:"/icons/arrow.svg",alt:"Finish Hunt",className:"w-[26px] h-[25px]"})]})}),s&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-[296px] flex flex-col items-center",children:[(0,a.jsx)("h2",{className:"font-dm-sans text-[20px] tracking-[-0.02em] leading-[1] mb-4 text-green font-semibold",children:"Are you sure?"}),(0,a.jsxs)("p",{className:"text-center text-[16px] tracking-[-0.02em] leading-[1] text-green mb-6 font-medium",children:["Your game will end after ",(0,a.jsx)("br",{})," finishing the hunt."]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>{i(!1)},className:"bg-green text-white py-2 px-6 rounded-full font-dm-sans font-button1 text-button1",children:"Go Back"}),(0,a.jsx)(d(),{href:"/ending",children:(0,a.jsx)("button",{className:"bg-green text-white py-2 px-6 rounded-full font-dm-sans font-button1 text-button1",children:"Finish"})})]})]})})]})};var g=s(98);function f(){let[e,t]=(0,l.useState)("map"),[,s]=(0,l.useState)({totalObjectsFound:0}),[i,r]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async function(){let e=await (0,g.ms)();e&&s(e)})()},[]),(0,l.useEffect)(()=>{(async function(){try{let e=await fetch("/data/exhibits.json"),t=await e.json(),s=await (0,g.JN)(),a=Object.entries(t).map(e=>{let[t,a]=e,l=a.totalObjects,i=a.items.filter(e=>s.includes(e.id)).length;return{name:t,displayName:a.displayName,path:a.path,objectsFound:i,totalObjects:l}});r(a)}catch(e){console.error("Error fetching regions data:",e)}})()},[]);let{totalObjectsFound:c,totalObjects:x}=(0,l.useMemo)(()=>({totalObjectsFound:i.reduce((e,t)=>e+t.objectsFound,0),totalObjects:i.reduce((e,t)=>e+t.totalObjects,0)}),[i]);return(0,a.jsxs)("div",{className:"min-h-screen font-[family-name:var(--font-geist-sans)] bg-warm-white",style:{backgroundImage:"url('/images/paper.png')",backgroundRepeat:"repeat"},children:[(0,a.jsx)(b,{objectsFound:c,totalObjects:x}),(0,a.jsxs)("main",{className:"flex flex-col items-center gap-6 pt-6 px-8 pb-20",children:[(0,a.jsx)(m,{objectsFound:c,totalObjects:x}),(0,a.jsx)(n,{activeTab:e,onTabChange:t}),"list"===e?(0,a.jsx)(o,{regions:i}):(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(u,{regions:i})}),(0,a.jsxs)("div",{className:"fixed bottom-0 w-full px-5 py-3 flex justify-between z-40",style:{background:"linear-gradient(to bottom, rgba(254,252,247,0) 0%, rgba(255,254,253,0.85) 40.5%, #FFFEFD 100%)"},children:[(0,a.jsx)(d(),{href:"/stickerbook",children:(0,a.jsxs)("div",{className:"flex items-center bg-green text-warm-white w-fit h-[44px] gap-[6px] px-[20px] rounded-full",children:[(0,a.jsx)("img",{src:"/icons/stickerbook.svg",alt:"Sticker Book",className:"w-[26px] h-[25px]"}),(0,a.jsx)("p",{className:"font-medium text-base",children:"Sticker Book"})]})}),(0,a.jsx)(p,{objectsFound:c})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[766,874,98,441,684,358],()=>t(1896)),_N_E=e.O()}]);